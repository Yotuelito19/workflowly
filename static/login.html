<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - WorkFlowly</title>
    <link rel="stylesheet" href="login.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-brand">
                <a href="/" class="logo">
                    <div class="logo-circle">
                        <span>W</span>
                    </div>
                    <span class="brand-name">WorkFlowly</span>
                </a>
            </div>
            <div class="header-actions">
                <a href="/eventos" class="btn-link">Explorar eventos</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="auth-main">
        <div class="auth-container">
            <div class="auth-layout">
                <!-- Left Side - Branding -->
                <div class="auth-branding">
                    <div class="branding-content">
                        <div class="brand-logo">
                            <div class="logo-circle large">
                                <span>W</span>
                            </div>
                            <h1>WorkFlowly</h1>
                        </div>
                        <h2>Tu plataforma de eventos de confianza</h2>
                        <p>Únete a miles de usuarios que ya disfrutan de eventos sin reventa abusiva y con total transparencia en precios.</p>
                        
                        <div class="features-list">
                            <div class="feature-item">
                                <i class="fas fa-shield-alt"></i>
                                <div>
                                    <strong>Sin reventa abusiva</strong>
                                    <span>Sistemas anti-bots garantizados</span>
                                </div>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-eye"></i>
                                <div>
                                    <strong>Precios transparentes</strong>
                                    <span>Sin costos ocultos sorpresivos</span>
                                </div>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-headset"></i>
                                <div>
                                    <strong>Soporte 24/7</strong>
                                    <span>Siempre disponible para ti</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="social-proof">
                            <div class="proof-stats">
                                <div class="stat">
                                    <strong>50K+</strong>
                                    <span>usuarios activos</span>
                                </div>
                                <div class="stat">
                                    <strong>4.8★</strong>
                                    <span>valoración promedio</span>
                                </div>
                                <div class="stat">
                                    <strong>0%</strong>
                                    <span>costos ocultos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Side - Auth Forms -->
                <div class="auth-forms">
                    <!-- Login Form -->
                    <div class="form-container" id="loginForm">
                        <div class="form-header">
                            <h2>Bienvenido de vuelta</h2>
                            <p>Inicia sesión para acceder a tu cuenta</p>
                        </div>

                        <form class="auth-form" id="loginFormElement">
                            <div class="form-group">
                                <label for="loginEmail">Correo electrónico</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-envelope"></i>
                                    <input type="email" id="loginEmail" name="email" placeholder="tu@email.com" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="loginPassword">Contraseña</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="loginPassword" name="password" placeholder="Tu contraseña" required>
                                    <button type="button" class="toggle-password" data-target="loginPassword">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="remember">
                                    <span class="checkmark"></span>
                                    Recordarme
                                </label>
                                <a href="#" class="forgot-link">¿Olvidaste tu contraseña?</a>
                            </div>

                            <button type="submit" class="btn-primary">
                                Iniciar Sesión
                                <i class="fas fa-arrow-right"></i>
                            </button>

                            <div class="divider">
                                <span>O continúa con</span>
                            </div>

                            <div class="social-login">
                                <button type="button" class="btn-social google">
                                    <i class="fab fa-google"></i>
                                    Google
                                </button>
                                <button type="button" class="btn-social facebook">
                                    <i class="fab fa-facebook-f"></i>
                                    Facebook
                                </button>
                            </div>

                            <p class="form-switch">
                                ¿No tienes cuenta? 
                                <a href="#" id="showRegister">Regístrate aquí</a>
                            </p>
                        </form>
                    </div>

                    <!-- Register Form -->
                    <div class="form-container hidden" id="registerForm">
                        <div class="form-header">
                            <h2>Crear cuenta nueva</h2>
                            <p>Regístrate y empieza a disfrutar eventos sin reventa</p>
                        </div>

                        <form class="auth-form" id="registerFormElement">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName">Nombre</label>
                                    <div class="input-wrapper">
                                        <i class="fas fa-user"></i>
                                        <input type="text" id="firstName" name="firstName" placeholder="Tu nombre" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Apellidos</label>
                                    <div class="input-wrapper">
                                        <i class="fas fa-user"></i>
                                        <input type="text" id="lastName" name="lastName" placeholder="Tus apellidos" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="registerEmail">Correo electrónico</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-envelope"></i>
                                    <input type="email" id="registerEmail" name="email" placeholder="tu@email.com" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="phone">Teléfono</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-phone"></i>
                                    <input type="tel" id="phone" name="phone" placeholder="+34 600 000 000" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="registerPassword">Contraseña</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="registerPassword" name="password" placeholder="Mínimo 8 caracteres" required minlength="8">
                                    <button type="button" class="toggle-password" data-target="registerPassword">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="password-strength" id="passwordStrength">
                                    <div class="strength-bar">
                                        <div class="strength-fill"></div>
                                    </div>
                                    <span class="strength-text">Introduce una contraseña</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">Confirmar contraseña</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Repite tu contraseña" required>
                                    <button type="button" class="toggle-password" data-target="confirmPassword">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="birthDate">Fecha de nacimiento</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-calendar"></i>
                                    <input type="date" id="birthDate" name="birthDate" required>
                                </div>
                                <small>Necesario para verificar edad en eventos</small>
                            </div>

                            <div class="form-options">
                                <label class="checkbox-label required">
                                    <input type="checkbox" name="terms" required>
                                    <span class="checkmark"></span>
                                    Acepto los <a href="#" target="_blank">términos y condiciones</a>
                                </label>
                                <label class="checkbox-label required">
                                    <input type="checkbox" name="privacy" required>
                                    <span class="checkmark"></span>
                                    Acepto la <a href="#" target="_blank">política de privacidad</a>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="newsletter">
                                    <span class="checkmark"></span>
                                    Quiero recibir ofertas y novedades por email
                                </label>
                            </div>

                            <button type="submit" class="btn-primary">
                                Crear Cuenta
                                <i class="fas fa-arrow-right"></i>
                            </button>

                            <div class="divider">
                                <span>O regístrate con</span>
                            </div>

                            <div class="social-login">
                                <button type="button" class="btn-social google">
                                    <i class="fab fa-google"></i>
                                    Google
                                </button>
                                <button type="button" class="btn-social facebook">
                                    <i class="fab fa-facebook-f"></i>
                                    Facebook
                                </button>
                            </div>

                            <p class="form-switch">
                                ¿Ya tienes cuenta? 
                                <a href="#" id="showLogin">Inicia sesión aquí</a>
                            </p>
                        </form>
                    </div>

                    <!-- Forgot Password Form -->
                    <div class="form-container hidden" id="forgotForm">
                        <div class="form-header">
                            <h2>Recuperar contraseña</h2>
                            <p>Introduce tu email y te enviaremos un enlace para restablecer tu contraseña</p>
                        </div>

                        <form class="auth-form" id="forgotFormElement">
                            <div class="form-group">
                                <label for="forgotEmail">Correo electrónico</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-envelope"></i>
                                    <input type="email" id="forgotEmail" name="email" placeholder="tu@email.com" required>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary">
                                Enviar enlace de recuperación
                                <i class="fas fa-paper-plane"></i>
                            </button>

                            <p class="form-switch">
                                ¿Recordaste tu contraseña? 
                                <a href="#" id="backToLogin">Volver al login</a>
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#">Ayuda</a>
                    <a href="#">Contacto</a>
                    <a href="#">Términos</a>
                    <a href="#">Privacidad</a>
                    <a href="#">Cookies</a>
                </div>
                <p>&copy; 2025 WorkFlowly. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Form switching
        const showRegister = document.getElementById('showRegister');
        const showLogin = document.getElementById('showLogin');
        const forgotLink = document.querySelector('.forgot-link');
        const backToLogin = document.getElementById('backToLogin');
        
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const forgotForm = document.getElementById('forgotForm');

        showRegister.addEventListener('click', (e) => {
            e.preventDefault();
            loginForm.classList.add('hidden');
            registerForm.classList.remove('hidden');
            forgotForm.classList.add('hidden');
        });

        showLogin.addEventListener('click', (e) => {
            e.preventDefault();
            loginForm.classList.remove('hidden');
            registerForm.classList.add('hidden');
            forgotForm.classList.add('hidden');
        });

        forgotLink.addEventListener('click', (e) => {
            e.preventDefault();
            loginForm.classList.add('hidden');
            registerForm.classList.add('hidden');
            forgotForm.classList.remove('hidden');
        });

        backToLogin.addEventListener('click', (e) => {
            e.preventDefault();
            loginForm.classList.remove('hidden');
            registerForm.classList.add('hidden');
            forgotForm.classList.add('hidden');
        });

        // Toggle password visibility
        document.querySelectorAll('.toggle-password').forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.dataset.target;
                const input = document.getElementById(targetId);
                const icon = button.querySelector('i');
                
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    input.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });
        });

        // Password strength checker
        const passwordInput = document.getElementById('registerPassword');
        const strengthBar = document.querySelector('.strength-fill');
        const strengthText = document.querySelector('.strength-text');

        if (passwordInput) {
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                let text = '';
                let color = '';

                if (password.length === 0) {
                    text = 'Introduce una contraseña';
                    color = '#ccc';
                } else if (password.length < 8) {
                    strength = 25;
                    text = 'Muy débil';
                    color = '#FF6B6B';
                } else {
                    strength = 25;
                    if (password.match(/[a-z]/)) strength += 25;
                    if (password.match(/[A-Z]/)) strength += 25;
                    if (password.match(/[0-9]/)) strength += 25;
                    
                    if (strength === 50) {
                        text = 'Débil';
                        color = '#FF9800';
                    } else if (strength === 75) {
                        text = 'Buena';
                        color = '#4CAF50';
                    } else if (strength === 100) {
                        text = 'Muy fuerte';
                        color = '#4CAF50';
                    }
                }

                strengthBar.style.width = strength + '%';
                strengthBar.style.backgroundColor = color;
                strengthText.textContent = text;
                strengthText.style.color = color;
            });
        }

        // Form submissions
        document.getElementById('loginFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Simulate login
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Iniciando sesión...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                // Redirect to events or previous page
                window.location.href = '/eventos';
            }, 1500);
        });

        document.getElementById('registerFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check passwords match
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                alert('Las contraseñas no coinciden');
                return;
            }
            
            // Simulate registration
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creando cuenta...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                alert('¡Cuenta creada exitosamente! Revisa tu email para verificar tu cuenta.');
                // Switch to login form
                registerForm.classList.add('hidden');
                loginForm.classList.remove('hidden');
                submitBtn.innerHTML = 'Crear Cuenta <i class="fas fa-arrow-right"></i>';
                submitBtn.disabled = false;
                this.reset();
            }, 2000);
        });

        document.getElementById('forgotFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                alert('Se ha enviado un enlace de recuperación a tu email.');
                forgotForm.classList.add('hidden');
                loginForm.classList.remove('hidden');
                submitBtn.innerHTML = 'Enviar enlace de recuperación <i class="fas fa-paper-plane"></i>';
                submitBtn.disabled = false;
                this.reset();
            }, 1500);
        });

        // Phone number formatting
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.startsWith('34')) {
                value = '+' + value;
            } else if (value.length > 0 && !value.startsWith('+')) {
                value = '+34' + value;
            }
            e.target.value = value;
        });
    </script>
</body>
</html>